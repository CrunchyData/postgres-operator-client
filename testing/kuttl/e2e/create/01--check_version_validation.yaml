---
apiVersion: kuttl.dev/v1beta1
kind: TestStep
commands:
  - script: |
     # Verify the error when the Postgres version given is too low.
     TOO_LOW=$(kubectl-pgo create postgrescluster --pg-major-version=1 toolow 2>&1)
     if [[ "${TOO_LOW}" != "Error:"*"Invalid value"* ]]; then
      printf 'Expected invalid value error, got %q\n' "${TOO_LOW}"
      exit 1
     fi

     # Verify the error when the Postgres version given is too high.
     TOO_HIGH=$(kubectl-pgo create postgrescluster --pg-major-version=100 toohigh 2>&1)
     if [[ "${TOO_HIGH}" != "Error:"*"Invalid value"* ]]; then
      printf 'Expected invalid value error, got %q\n' "${TOO_HIGH}"
      exit 1
     fi

